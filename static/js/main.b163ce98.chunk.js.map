{"version":3,"sources":["pages/blogs/[slug].tsx","pages/category.tsx","pages/forgot_password.tsx","pages/reset_password/[slug].tsx","pages/update_blog/[slug].tsx","components/editor/LiteQuill.tsx","components/comments/Input.tsx","components/comments/AvatarComment.tsx","components/comments/AvatarReply.tsx","redux/actions/commentAction.ts","components/comments/CommentList.tsx","components/comments/Comments.tsx","components/blog/DisplayBlog.tsx","pages/blog/[slug].tsx","components/auth/LoginPass.tsx","components/auth/LoginSMS.tsx","components/auth/SocialLogin.tsx","pages/login.tsx","components/profile/UserInfo.tsx","components/profile/OtherInfo.tsx","components/profile/UserBlogs.tsx","pages/profile/[slug].tsx","components/auth/RegisterForm.tsx","pages/register.tsx","pages sync /^/.*$","redux/types/commentType.ts","utils/checkTokenExp.ts","redux/actions/authAction.ts","redux/types/blogType.ts","PageRender.tsx","components/global/Search.tsx","components/global/Menu.tsx","components/global/Headers.tsx","SocketClient.tsx","App.tsx","redux/reducers/authReducer.ts","redux/reducers/alertReducer.ts","redux/reducers/categoryReducer.ts","redux/reducers/homeBlogsReducer.ts","redux/reducers/blogsCategoryReducer.ts","redux/reducers/otherInfoReducer.ts","redux/reducers/blogsUserReducer.ts","redux/reducers/commentReducer.ts","redux/types/socketType.ts","redux/reducers/socketReducer.ts","redux/reducers/index.ts","redux/store.ts","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx","redux/actions/blogAction.ts","redux/types/authType.ts","redux/types/alertType.ts","components/global/Loading.tsx","redux/types/categoryType.ts","utils/ImageUpload.ts","components/global/NotFound.tsx","utils/config.ts","utils/Valid.ts","redux/actions/userAction.ts","components/alert/Loading.tsx","components/alert/Toast.tsx","components/alert/Alert.tsx","components/global/Pagination.tsx","components/cards/CardHoriz.tsx","redux/actions/categoryAction.ts","components/cards/CreateForm.tsx","components/editor/ReactQuill.tsx","pages/create_blog.tsx","components/cards/CardVert.tsx","redux/types/profileType.ts","pages/index.tsx","pages/active/[slug].tsx","utils/FetchData.ts"],"names":["BlogsByCategory","useSelector","state","categories","blogsCategory","dispatch","useDispatch","slug","useParams","useState","categoryId","setCategoryId","blogs","setBlogs","total","setTotal","history","useHistory","search","location","useEffect","category","find","item","name","_id","every","id","getBlogsByCategoryId","data","push","className","map","blog","callback","num","Category","setName","edit","setEdit","auth","user","role","onSubmit","e","preventDefault","access_token","updateCategory","createCategory","htmlFor","style","cursor","onClick","type","value","onChange","target","window","confirm","deleteCategory","ForgotPassword","account","setAccount","maxWidth","forgotPassword","ResetPassword","token","password","setPassword","cf_password","setCfPassword","typePass","setTypePass","typeCfPass","setTypeCfPass","resetPassword","UpdateBlog","container","LiteQuill","body","setBody","modules","toolbar","theme","placeholder","Input","divRef","useRef","content","ref","dangerouslySetInnerHTML","__html","display","div","current","innerText","trim","undefined","AvatarComment","src","avatar","alt","to","AvatarReply","reply_user","textDecoration","getComments","getAPI","res","GET_COMMENTS","payload","comments","ALERT","errors","response","msg","CommentList","children","comment","showReply","setShowReply","onReply","setOnReply","handleDelete","checkTokenExp","result","comment_root","DELETE_REPLY","DELETE_COMMENT","deleteAPI","Nav","newComment","UPDATE_REPLY","UPDATE_COMMENT","patchAPI","blog_user_id","Date","createdAt","toLocaleString","blog_id","replyCM","toISOString","postAPI","replyComment","Comments","next","setNext","opacity","pointerEvents","slice","index","length","color","DisplayBlog","showComments","setShowComments","loading","setLoading","fetchComments","useCallback","backgroundColor","title","thumbnail","textTransform","maxHeight","objectFit","alignItems","justifyContent","marginLeft","marginRight","fontSize","createComment","Loading","Pagination","DetailBlog","socket","setBlog","error","setError","then","catch","err","emit","showErrMsg","LoginPass","userLogin","setUserLogin","handleChangeInput","login","disabled","LoginSMS","phone","setPhone","loginSMS","SocialLogin","client_id","cookiepolicy","onSuccess","googleUser","id_token","getAuthResponse","googleLogin","Login","sms","url","replace","UserInfo","setUser","Blob","updateUser","URL","createObjectURL","accept","files","file","defaultValue","NotFound","OtherInfo","other","setOther","otherInfo","getOtherInfo","newUser","UserBlogs","blogsUser","user_id","getBlogsByUserId","CardHoriz","Profile","RegisterForm","userRegister","setUserRegister","register","Register","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","CREATE_COMMENT","REPLY_COMMENT","jwt_decode","exp","now","AUTH","success","localStorage","setItem","check","validRegister","errLength","errMsg","refreshToken","getItem","removeItem","logout","facebookLogin","accessToken","userID","validPhone","valid","verifySMS","prompt","setTimeout","GET_HOME_BLOGS","GET_BLOGS_CATEGORY_ID","GET_BLOGS_USER_ID","CREATE_BLOGS_USER_ID","DELETE_BLOGS_USER_ID","PageRender","page","React","createElement","require","default","generatePage","Search","setSearch","pathname","useLocation","delayDebounce","console","log","clearTimeout","height","borderRadius","background","zIndex","overflow","Menu","navLinks","label","path","isActive","pn","fontWeight","link","Headers","position","top","left","SocketClient","on","off","App","setInstallable","addEventListener","evt","getCategories","getHomeBlogs","io","API_URL","close","Alert","exact","component","authReducer","action","alertReducer","categoryReducer","types","filter","homeBlogsReducer","blogsCategoryReducer","otherInfoReducer","GET_OTHER_INFO","blogsUserReducer","initialState","commentReducer","rp","SOCKET","socketReducer","combineReducers","alert","homeBlogs","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","process","href","origin","fetch","headers","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","createBlog","imageUpload","photo","newBlog","updateBlog","putAPI","deleteBlog","CREATE_CATEGORY","GET_CATEGORIES","UPDATE_CATEGORY","DELETE_CATEGORY","checkImage","size","includes","formData","FormData","append","method","json","public_id","secure_url","minHeight","transform","test","String","toLowerCase","checkPassword","shallowEqual","object1","object2","keys1","keys2","key","width","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","bgColor","right","minWidth","text","showSuccessMsg","setPage","newArr","Array","_","i","handlePagination","Number","description","newCategory","CreateForm","bottom","rows","resize","font","header","script","list","indent","direction","align","Quill","quillRef","handleChangeImage","input","click","onchange","quill","range","getEditor","getSelection","insertEmbed","getModule","addHandler","CreateBlog","initState","setText","oldData","setOldData","initData","handleSubmit","newData","ReactQuill","CardVert","fontFamily","Home","homeBlog","count","Active","setErr","setSuccess","active_token","axios","defaults","withCredentials","post","Authorization","patch","put","delete"],"mappings":"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","file":"static/js/main.b163ce98.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getBlogsByCategoryId } from '../../redux/actions/blogAction'\n\nimport { RootStore, IParams, IBlog } from '../../utils/TypeScript'\n\nimport Loading from '../../components/global/Loading'\nimport Pagination from '../../components/global/Pagination'\nimport CardVert from '../../components/cards/CardVert'\n\n\nconst BlogsByCategory = () => {\n  const { categories, blogsCategory } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const { slug } = useParams<IParams>()\n\n  const [categoryId, setCategoryId] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location;\n\n  useEffect(() => {\n    const category = categories.find(item => item.name === slug)\n    if(category) setCategoryId(category._id)\n  },[slug, categories])\n\n\n  useEffect(() => {\n    if(!categoryId) return;\n\n    if(blogsCategory.every(item => item.id !== categoryId)){\n      dispatch(getBlogsByCategoryId(categoryId, search))\n    }else{\n      const data = blogsCategory.find(item => item.id === categoryId)\n      if(!data) return;\n      setBlogs(data.blogs)\n      setTotal(data.total)\n\n      if(data.search) history.push(data.search)\n    }\n  },[categoryId, blogsCategory, dispatch, search, history])\n  \n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByCategoryId(categoryId, search))\n  }\n\n\n  if(!blogs) return <Loading />;\n  return (\n    <div className=\"blogs_category\">\n      <div className=\"show_blogs\">\n        {\n          blogs.map(blog => (\n            <CardVert key={blog._id} blog={blog} />\n          ))\n        }\n      </div>\n      \n      {\n        total > 1 &&\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      }\n     \n    </div>\n  )\n}\n\nexport default BlogsByCategory\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { FormSubmit, RootStore, ICategory } from \"../utils/TypeScript\";\n\nimport {\n  createCategory,\n  updateCategory,\n  deleteCategory,\n} from \"../redux/actions/categoryAction\";\n\nimport NotFound from \"../components/global/NotFound\";\n\nconst Category = () => {\n  const [name, setName] = useState(\"\");\n  const [edit, setEdit] = useState<ICategory | null>(null);\n\n  const { auth, categories } = useSelector((state: RootStore) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (edit) setName(edit.name);\n  }, [edit]);\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault();\n    if (!auth.access_token || !name) return;\n\n    if (edit) {\n      if (edit.name === name) return;\n      const data = { ...edit, name };\n      dispatch(updateCategory(data, auth.access_token));\n    } else {\n      dispatch(createCategory(name, auth.access_token));\n    }\n    setName(\"\");\n    setEdit(null);\n  };\n\n  const handleDelete = (id: string) => {\n    if (!auth.access_token) return;\n    if (window.confirm(\"Are you sure to delete this category?\")) {\n      dispatch(deleteCategory(id, auth.access_token));\n    }\n  };\n\n  if (auth.user?.role !== \"admin\") return <NotFound />;\n  return (\n    <div className=\"category\">\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"category\">ໝວດທັມ</label>\n\n        <div className=\"d-flex align-items-center\">\n          {edit && (\n            <i\n              className=\"fas fa-times me-2 text-danger\"\n              style={{ cursor: \"pointer\" }}\n              onClick={() => setEdit(null)}\n            />\n          )}\n          <input\n            type=\"text\"\n            name=\"category\"\n            id=\"category\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n\n          <button type=\"submit\">{edit ? \"ເເກ້ໄຂ\" : \"ເພີ້ມ\"}</button>\n        </div>\n      </form>\n\n      <div>\n        {categories.map((category) => (\n          <div className=\"category_row\" key={category._id}>\n            <p className=\"m-0 text-capitalize\">{category.name}</p>\n\n            <div>\n              <i\n                className=\"fas fa-edit mx-2\"\n                onClick={() => setEdit(category)}\n              />\n              <i\n                className=\"fas fa-trash-alt\"\n                onClick={() => handleDelete(category._id)}\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { forgotPassword} from '../redux/actions/authAction'\n\nimport { FormSubmit} from '../utils/TypeScript'\n\nconst ForgotPassword = () => {\n  const [account, setAccount] = useState('')\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(forgotPassword(account))\n  }\n\n  return (\n    <div className=\"my-4\" style={{maxWidth: '500px'}}>\n      <h2>ລືມລະຫັດຜ່ານ?</h2>\n\n      <form className=\"form-group\" onSubmit={handleSubmit}>\n        <label htmlFor=\"account\">ອີເມວ</label>\n\n        <div className=\"d-flex align-items-center\">\n          <input type=\"text\" className=\"form-control\" id=\"account\"\n          name=\"account\" onChange={e => setAccount(e.target.value)}  />\n\n          <button className=\"btn btn-primary mx-2 d-flex align-items-center\"\n          type=\"submit\">\n            <i className=\"fas fa-paper-plane me-2\" /> ສົ່ງ\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ForgotPassword\n","import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport { IParams, FormSubmit } from '../../utils/TypeScript'\n\nimport { resetPassword } from '../../redux/actions/userAction'\n\nconst ResetPassword = () => {\n  const token = useParams<IParams>().slug\n  const dispatch = useDispatch()\n\n  const [password, setPassword] = useState('')\n  const [cf_password, setCfPassword] = useState('')\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(resetPassword(password, cf_password, token))\n  }\n\n  return (\n    <div className=\"auth_page\">\n      <form className=\"auth_box\" onSubmit={handleSubmit}>\n        <h3 className=\"text-uppercase text-center mb-4\"> \n          Reset Password\n        </h3>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">ລະຫັດຜ່ານ</label>\n          <div className=\"pass\">\n            <input type={typePass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={password} \n            onChange={e => setPassword(e.target.value)} \n            />\n            <small onClick={() => setTypePass(!typePass)}>\n              {typePass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n        </div>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">ຢືນຢັນລະຫັດຜ່ານ</label>\n          <div className=\"pass\">\n            <input type={typeCfPass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={cf_password} \n            onChange={e => setCfPassword(e.target.value)} \n            />\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>\n              {typeCfPass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n        </div>\n      \n        <button type=\"submit\" className=\"btn btn-dark w-100 mt-2\">\n          ສະມັກສະມາຊິກ\n        </button>\n     </form>\n    </div>\n  )\n}\n\nexport default ResetPassword\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\n\nimport CreateBlog from '../create_blog'\n\nconst UpdateBlog = () => {\n  const { slug } = useParams<IParams>()\n\n  return <CreateBlog id={slug} />\n}\n\nexport default UpdateBlog\n","import React from 'react'\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\n\n\ninterface IProps {\n  body: string\n  setBody: (value: string) => void\n}\n\nconst LiteQuill: React.FC<IProps> = ({body, setBody}) => {\n\n  const modules = { toolbar: { container }}\n\n\n  return (\n    <div>\n      <ReactQuill theme=\"snow\"\n        modules={modules}\n        placeholder=\"Write somethings...\"\n        onChange={e => setBody(e)}\n        value={body}\n      />\n    </div>\n  )\n}\n\nlet container = [\n  [{ 'font': [] }],\n  ['bold', 'italic', 'underline', 'strike'],        \n  ['blockquote', 'code-block', 'link'],\n  [{ 'color': [] }, { 'background': [] }],          \n  [{ 'script': 'sub'}, { 'script': 'super' }]\n]\n\nexport default LiteQuill\n","import React, { useState, useRef, useEffect } from 'react'\nimport { IComment } from '../../utils/TypeScript'\nimport LiteQuill from '../editor/LiteQuill'\n\n\ninterface IProps {\n  callback: (body: string) => void\n  edit?: IComment\n  setEdit?:(edit?: IComment) => void\n}\n\nconst Input: React.FC<IProps> = ({ callback, edit, setEdit }) => {\n\n  const [body, setBody] = useState('')\n  const divRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if(edit) setBody(edit.content)\n  },[edit])\n\n\n  const handleSubmit = () => {\n    const div = divRef.current;\n    const text = (div?.innerText as string)\n    if(!text.trim()) {\n      if(setEdit) return setEdit(undefined);\n      return;\n    };\n\n    callback(body)\n\n    setBody('')\n  }\n  \n  return (\n    <div>\n      <LiteQuill body={body} setBody={setBody} />\n\n      <div\n        ref={divRef}\n        dangerouslySetInnerHTML={{\n          __html: body,\n        }}\n        style={{ display: \"none\" }}\n      />\n\n      <button\n        className=\"btn btn-dark ms-auto d-block px-4 mt-2\"\n        onClick={handleSubmit}\n      >\n        {edit ? \"ເເກ້ໄຂ\" : \"ສົ່ງ\"}\n      </button>\n    </div>\n  );\n}\n\nexport default Input\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n}\n\nconst AvatarComment: React.FC<IProps> = ({ user }) => {\n  return (\n    <div className=\"avatar_comment\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <small className=\"d-block text-break\">\n        <Link to={`/profile/${user._id}`}>\n          {user.name}\n        </Link>\n      </small>\n    </div>\n  )\n}\n\nexport default AvatarComment\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n  reply_user?: IUser\n}\nconst AvatarReply: React.FC<IProps> = ({ user, reply_user }) => {\n  return (\n    <div className=\"avatar_reply\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <div className=\"ms-1\">\n        <small>\n          <Link to={`/profile/${user._id}`}\n          style={{ textDecoration: 'none' }}>\n            { user.name }\n          </Link>\n        </small>\n\n        <small className=\"reply-text\">\n          ຕອບກັບ <Link to={`/profile/${reply_user?._id}`}>\n            { reply_user?.name }\n          </Link>\n        </small>\n      </div>\n    </div>\n  )\n}\n\nexport default AvatarReply\n","import { Dispatch } from 'redux'\n\nimport { ALERT, IAlertType } from '../types/alertType'\nimport { \n  ICreateCommentType,\n  GET_COMMENTS,\n  IGetCommentsType,\n  IReplyCommentType,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  IUpdateType,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n  IDeleteType\n} from '../types/commentType'\n\nimport { IComment } from '../../utils/TypeScript'\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\n\n\nexport const createComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | ICreateCommentType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    await postAPI('comment', data, access_token)\n\n    // dispatch({\n    //   type: CREATE_COMMENT,\n    //   payload: { ...res.data, user: data.user }\n    // })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const getComments = (\n  id: string, num: number\n) => async(dispatch: Dispatch<IAlertType | IGetCommentsType>) => {\n  try {\n    let limit = 4;\n\n    const res = await getAPI(`comments/blog/${id}?page=${num}&limit=${limit}`)\n\n    dispatch({\n      type: GET_COMMENTS,\n      payload: {\n        data: res.data.comments,\n        total: res.data.total\n      }\n    })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const replyComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IReplyCommentType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    await postAPI('reply_comment', data, access_token)\n\n    // dispatch({\n    //   type: REPLY_COMMENT,\n    //   payload: { \n    //     ...res.data, \n    //     user: data.user,\n    //     reply_user: data.reply_user\n    //   }\n    // })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const updateComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IUpdateType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({ \n      type: data.comment_root ? UPDATE_REPLY : UPDATE_COMMENT, \n      payload: data \n    })\n\n    await patchAPI(`comment/${data._id}`, { data }, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const deleteComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IDeleteType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({ \n      type: data.comment_root ? DELETE_REPLY : DELETE_COMMENT, \n      payload: data \n    })\n    \n    await deleteAPI(`comment/${data._id}`, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { IComment, RootStore } from '../../utils/TypeScript'\n\nimport { \n  replyComment, \n  updateComment,\n  deleteComment\n} from '../../redux/actions/commentAction'\n\nimport Input from './Input'\n\ninterface IProps {\n  comment: IComment\n  showReply: IComment[]\n  setShowReply: (showReply: IComment[]) => void\n}\n\nconst CommentList: React.FC<IProps> = ({ \n  children, comment, showReply, setShowReply\n}) => {\n  const [onReply, setOnReply] = useState(false)\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [edit, setEdit] = useState<IComment>()\n\n  const handleReply = (body: string) => {\n    if(!auth.user || !auth.access_token) return;\n\n    const data = {\n      user: auth.user,\n      blog_id: comment.blog_id,\n      blog_user_id: comment.blog_user_id,\n      content: body,\n      replyCM: [],\n      reply_user: comment.user,\n      comment_root: comment.comment_root || comment._id,\n      createdAt: new Date().toISOString()\n    }\n\n\n    setShowReply([data, ...showReply])\n    dispatch(replyComment(data, auth.access_token))\n    setOnReply(false)\n  }\n\n\n  const handleUpdate = (body: string) => {\n    if(!auth.user || !auth.access_token || !edit) return;\n\n    if(body === edit.content) \n      return setEdit(undefined)\n    \n    const newComment = {...edit, content: body}\n    dispatch(updateComment(newComment, auth.access_token))\n    setEdit(undefined)\n  }\n\n  const handleDelete = (comment: IComment) => {\n    if(!auth.user || !auth.access_token) return;\n    dispatch(deleteComment(comment, auth.access_token))\n  }\n\n\n  const Nav = (comment: IComment) => {\n    return(\n      <div>\n        <i className=\"fas fa-trash-alt mx-2\"\n        onClick={() => handleDelete(comment)} />\n\n        <i className=\"fas fa-edit me-2\"\n        onClick={() => setEdit(comment)} />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-100\">\n      {\n        edit\n        ? <Input \n          callback={handleUpdate} \n          edit={edit}\n          setEdit={setEdit}\n        />\n\n        : <div className=\"comment_box\">\n            <div className=\"p-2\" dangerouslySetInnerHTML={{\n              __html: comment.content\n            }} />\n\n            <div className=\"d-flex justify-content-between p-2\">\n              <small style={{cursor: 'pointer'}}\n              onClick={() => setOnReply(!onReply)}>\n                {onReply ? '- Cancel -' :'- Reply -'}\n              </small>\n\n              <small className=\"d-flex\">\n                <div className=\"comment_nav\">\n                  {\n                    comment.blog_user_id === auth.user?._id\n                    ? comment.user._id === auth.user._id\n                      ? Nav(comment)\n                      : <i className=\"fas fa-trash-alt mx-2\"\n                      onClick={() => handleDelete(comment)} />\n                    : comment.user._id === auth.user?._id && Nav(comment)\n                  }\n                </div>\n\n                <div>\n                  { new Date(comment.createdAt).toLocaleString() }\n                </div>\n              </small>\n            </div>\n\n          </div>\n      }\n\n      {\n        onReply && <Input callback={handleReply} />\n      }\n      \n      { children }\n    </div>\n  )\n}\n\nexport default CommentList\n","import React, { useState, useEffect } from 'react'\n\nimport { IComment } from '../../utils/TypeScript'\n\nimport AvatarComment from './AvatarComment'\nimport AvatarReply from './AvatarReply'\nimport CommentList from './CommentList'\n\n\ninterface IProps {\n  comment: IComment\n}\n\nconst Comments: React.FC<IProps> = ({ comment }) => {\n  const [showReply, setShowReply] = useState<IComment[]>([])\n  const [next, setNext] = useState(2)\n \n  useEffect(() => {\n    if(!comment.replyCM) return;\n    setShowReply(comment.replyCM)\n  },[comment.replyCM])\n\n  return (\n    <div className=\"my-3 d-flex\" style={{\n      opacity: comment._id ? 1 : 0.5,\n      pointerEvents: comment._id ? 'initial' : 'none'\n    }}>\n      <AvatarComment user={comment.user} /> \n\n      <CommentList \n      comment={comment} \n      showReply={showReply}\n      setShowReply={setShowReply}\n      >\n        {\n          showReply.slice(0, next).map((comment, index) => (\n            <div key={index} style={{\n              opacity: comment._id ? 1 : 0.5,\n              pointerEvents: comment._id ? 'initial' : 'none'\n            }}>\n              <AvatarReply\n                user={comment.user}\n                reply_user={comment.reply_user}\n              />\n\n              <CommentList \n                comment={comment} \n                showReply={showReply}\n                setShowReply={setShowReply}\n              />\n            </div>\n          ))\n        }\n\n        <div style={{ cursor: 'pointer' }}>\n          {\n            showReply.length -next > 0\n            ? <small style={{ color: 'crimson' }}\n            onClick={() => setNext(next + 5)}>\n              See more comments...\n            </small>\n            : showReply.length > 2 && \n            <small style={{ color: 'teal' }}\n            onClick={() => setNext(2)}>\n              Hide comments...\n            </small>\n          }\n        </div>\n\n      </CommentList>\n    </div>\n  )\n}\n\nexport default Comments\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { IBlog, RootStore, IUser, IComment } from \"../../utils/TypeScript\";\n\nimport Input from \"../comments/Input\";\nimport Comments from \"../comments/Comments\";\nimport Loading from \"../global/Loading\";\nimport Pagination from \"../global/Pagination\";\nimport { Image } from \"antd\";\nimport { createComment, getComments } from \"../../redux/actions/commentAction\";\nimport './DisplayBlog.css';\n\ninterface IProps {\n  blog: IBlog;\n}\n\nconst DisplayBlog: React.FC<IProps> = ({ blog }) => {\n  const { auth, comments } = useSelector((state: RootStore) => state);\n  const dispatch = useDispatch();\n\n  const [showComments, setShowComments] = useState<IComment[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const history = useHistory();\n\n  const handleComment = (body: string) => {\n    if (!auth.user || !auth.access_token) return;\n\n    const data = {\n      content: body,\n      user: auth.user,\n      blog_id: blog._id as string,\n      blog_user_id: (blog.user as IUser)._id,\n      replyCM: [],\n      createdAt: new Date().toISOString(),\n    };\n\n    setShowComments([data, ...showComments]);\n    dispatch(createComment(data, auth.access_token));\n  };\n\n  useEffect(() => {\n    setShowComments(comments.data);\n  }, [comments.data]);\n\n  const fetchComments = useCallback(\n    async (id: string, num = 1) => {\n      setLoading(true);\n      await dispatch(getComments(id, num));\n      setLoading(false);\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (!blog._id) return;\n    const num = history.location.search.slice(6) || 1;\n    fetchComments(blog._id, num);\n  }, [blog._id, fetchComments, history]);\n\n  const handlePagination = (num: number) => {\n    if (!blog._id) return;\n    fetchComments(blog._id, num);\n  };\n\n  return (\n    <div style={{ backgroundColor: \"#FEF7EC\" }}>\n      <h2\n        className=\"text-center my-3 text-capitalize fs-1\"\n        style={{ color: \"#A66908\" }}\n      >\n        {blog.title}\n      </h2>\n\n      <div className=\"text-end fst-italic\" style={{ color: \"teal\" }}>\n        <small>\n          {typeof blog.user !== \"string\" && `By: ${blog.user.name}`}\n        </small>\n\n        <small className=\"ms-2\">\n          {new Date(blog.createdAt).toLocaleString()}\n        </small>\n      </div>\n\n      {typeof blog.thumbnail === \"string\" && (\n        <Link\n          to={`/blog/${blog._id}`}\n          style={{\n            textDecoration: \"none\",\n            textTransform: \"capitalize\",\n          }}\n        >\n          <div className=\"object-center object-cover rounded-lg space-y-10 mr-auto shadow-xl\">\n            <img\n              src={blog.thumbnail}\n              className=\"card-img-top\"\n              alt=\"...\"\n              style={{\n                maxWidth: \"330px\",\n                maxHeight: \"380px\",\n                objectFit: \"cover\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                display: \"block\",\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n              }}\n            />\n          </div>\n        </Link>\n      )}\n      <hr className=\"my-2\" />\n\n      <div\n        style={{ fontSize: \"20px\" }}\n        dangerouslySetInnerHTML={{\n          __html: blog.content,\n        }}\n      />\n\n      <hr className=\"my-1\" />\n      <h3 style={{ color: \"#A66908\" }}>✩ ສົນທະນາທັມ ✩</h3>\n\n      {auth.user ? (\n        <Input callback={handleComment} />\n      ) : (\n        <h5>\n          ກະລຸນາ <Link to={`/login?blog/${blog._id}`}>ເຂົ້າສູ່ລະບົບ</Link>{\" \"}\n          ເພື່ອສົນທະນາທັມ.\n        </h5>\n      )}\n\n      {loading ? (\n        <Loading />\n      ) : (\n        showComments?.map((comment, index) => (\n          <Comments key={index} comment={comment} />\n        ))\n      )}\n\n      {comments.total > 1 && (\n        <Pagination total={comments.total} callback={handlePagination} />\n      )}\n    </div>\n  );\n};\n\nexport default DisplayBlog;\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, IBlog, RootStore } from '../../utils/TypeScript'\nimport { getAPI } from '../../utils/FetchData'\n\nimport Loading from '../../components/global/Loading'\nimport { showErrMsg } from '../../components/alert/Alert'\nimport DisplayBlog from '../../components/blog/DisplayBlog'\n\nconst DetailBlog = () => {\n  const id = useParams<IParams>().slug\n  const { socket } = useSelector((state: RootStore) => state)\n\n  const [blog, setBlog] = useState<IBlog>()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    if(!id) return;\n\n    setLoading(true)\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setLoading(false)\n    })\n    .catch(err => {\n      setError(err.response.data.msg)\n      setLoading(false)\n    })\n\n    return () => setBlog(undefined)\n  },[id])\n\n  // Join Room\n  useEffect(() => {\n    if(!id || !socket) return;\n    socket.emit('joinRoom', id)\n\n    return () => {\n      socket.emit('outRoom', id)\n    }\n  },[socket, id])\n  \n\n  if(loading) return <Loading />;\n  return (\n    <div className=\"my-4\">\n      { error && showErrMsg(error) }\n      \n      { blog && <DisplayBlog blog={blog} /> }\n\n    </div>\n  )\n}\n\nexport default DetailBlog\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { InputChange, FormSubmit } from \"../../utils/TypeScript\";\nimport { login } from \"../../redux/actions/authAction\";\n\nconst LoginPass = () => {\n  const initialState = { account: \"\", password: \"\" };\n  const [userLogin, setUserLogin] = useState(initialState);\n  const { account, password } = userLogin;\n\n  const [typePass, setTypePass] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const handleChangeInput = (e: InputChange) => {\n    const { value, name } = e.target;\n    setUserLogin({ ...userLogin, [name]: value });\n  };\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault();\n    dispatch(login(userLogin));\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          ອີເມວ\n        </label>\n\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"account\"\n          name=\"account\"\n          value={account}\n          onChange={handleChangeInput}\n        />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          ລະຫັດຜ່ານ\n        </label>\n\n        <div className=\"pass\">\n          <input\n            type={typePass ? \"text\" : \"password\"}\n            className=\"form-control\"\n            id=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChangeInput}\n          />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            {typePass ? \"Hide\" : \"Show\"}\n          </small>\n        </div>\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"btn btn-warning w-100 mt-1 text-white\"\n        disabled={account && password ? false : true}\n        style={{ backgroundColor: account && password ? \"#A0522D\" : \"#A0522D\" }}\n      >\n        ເຂົ້າສູ່ລະບົບ\n      </button>\n    </form>\n  );\n};\n\nexport default LoginPass;\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { FormSubmit } from '../../utils/TypeScript'\nimport { loginSMS } from '../../redux/actions/authAction'\n\nconst LoginSMS = () => {\n  const [phone, setPhone] = useState('')\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(loginSMS(phone))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"phone\" className=\"form-label\">\n          ເບີໂທລະສັບ\n        </label>\n\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"phone\"\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n          placeholder=\"+84374481936\"\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"btn btn-dark w-100\"\n        disabled={phone ? false : true}\n      >\n        ເຂົ້າສູ່ລະບົບ\n      </button>\n    </form>\n  );\n}\n\nexport default LoginSMS\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { GoogleLogin, GoogleLoginResponse } from 'react-google-login-lite';\nimport { FacebookLogin, FacebookLoginAuthResponse } from 'react-facebook-login-lite';\n\nimport { googleLogin, facebookLogin } from '../../redux/actions/authAction'\n\nconst SocialLogin = () => {\n  const dispatch = useDispatch()\n\n  const onSuccess = (googleUser: GoogleLoginResponse) => {\n    const id_token = googleUser.getAuthResponse().id_token\n    dispatch(googleLogin(id_token))\n  }\n  \n  const onFBSuccess = (response: FacebookLoginAuthResponse) => {\n    const { accessToken, userID } = response.authResponse\n    dispatch(facebookLogin(accessToken, userID))\n  }\n  \n\n  return (\n    <>\n      <div className=\"my-2\">\n        <GoogleLogin\n          client_id=\"828200238885-j7t2kkels5e60vdo5meevoo8jpaf38hp.apps.googleusercontent.com\"\n          cookiepolicy=\"single_host_origin\"\n          onSuccess={onSuccess}\n        />\n      </div>\n\n      {/* <div className=\"my-2\">\n        <FacebookLogin appId=\"388204125990623\" onSuccess={onFBSuccess} />\n      </div> */}\n    </>\n  );\n}\n\nexport default SocialLogin\n","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport LoginPass from '../components/auth/LoginPass'\nimport LoginSMS from '../components/auth/LoginSMS'\nimport SocialLogin from '../components/auth/SocialLogin'\n\nimport { RootStore } from '../utils/TypeScript'\n\nconst Login = () => {\n  const [sms, setSms] = useState(false)\n  const history = useHistory()\n\n  const { auth } = useSelector((state: RootStore) => state)\n\n  useEffect(() => {\n    if(auth.access_token) {\n      let url = history.location.search.replace('?', '/')\n      return history.push(url)\n    }\n  },[auth.access_token, history])\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">ເຂົ້າສູ່ລະບົບ</h3>\n\n        <SocialLogin />\n\n        {sms ? <LoginSMS /> : <LoginPass />}\n\n        <small className=\"row my-2 text-primary\" style={{ cursor: \"pointer\" }}>\n          <span className=\"col-6\">\n            <Link to=\"/forgot_password\">ລືມລະຫັດຜ່ານ?</Link>\n          </span>\n\n          {/* <span className=\"col-6 text-end\" onClick={() => setSms(!sms)}>\n            { sms ? 'Sign in with password' : 'Sign in with SMS' }\n          </span> */}\n        </small>\n\n        <p>\n          {`ທ່ານສະມັກສະມາຊິກເເລ້ວ ຫຼື ຍັງ?`}\n          <Link\n            to={`/register${history.location.search}`}\n            style={{ color: \"crimson\" }}\n          >\n            {\" \"} ສະມັກສະມາຊິກ\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Login\n","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport {\n  RootStore,\n  InputChange,\n  IUserProfile,\n  FormSubmit,\n} from \"../../utils/TypeScript\";\n\nimport NotFound from \"../global/NotFound\";\n\nimport { updateUser, resetPassword } from \"../../redux/actions/userAction\";\n\nconst UserInfo = () => {\n  const initState = {\n    name: \"\",\n    account: \"\",\n    avatar: \"\",\n    password: \"\",\n    cf_password: \"\",\n  };\n\n  const { auth } = useSelector((state: RootStore) => state);\n  const dispatch = useDispatch();\n\n  const [user, setUser] = useState<IUserProfile>(initState);\n  const [typePass, setTypePass] = useState(false);\n  const [typeCfPass, setTypeCfPass] = useState(false);\n\n  const handleChangeInput = (e: InputChange) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  const handleChangeFile = (e: InputChange) => {\n    const target = e.target as HTMLInputElement;\n    const files = target.files;\n\n    if (files) {\n      const file = files[0];\n      setUser({ ...user, avatar: file });\n    }\n  };\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault();\n    if (avatar || name) dispatch(updateUser(avatar as File, name, auth));\n\n    if (password && auth.access_token)\n      dispatch(resetPassword(password, cf_password, auth.access_token));\n  };\n\n  const { name, avatar, password, cf_password } = user;\n  let data = new Blob([avatar], { type: \"text/plain\" });\n\n  if (!auth.user) return <NotFound />;\n  return (\n    <form className=\"profile_info\" onSubmit={handleSubmit}>\n      <div className=\"info_avatar\">\n        <img\n          src={avatar ? URL.createObjectURL(data) : auth.user.avatar}\n          alt=\"avatar\"\n        />\n\n        <span>\n          <i className=\"fas fa-camera\" />\n          <p>ປ່ຽນ</p>\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            name=\"file\"\n            id=\"file_up\"\n            onChange={handleChangeFile}\n          />\n        </span>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"name\">ຊື້</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"name\"\n          name=\"name\"\n          defaultValue={auth.user.name}\n          onChange={handleChangeInput}\n        />\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"account\">ອີເມວ</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"account\"\n          name=\"account\"\n          defaultValue={auth.user.account}\n          onChange={handleChangeInput}\n          disabled={true}\n        />\n      </div>\n\n      {auth.user.type !== \"register\" && (\n        <small className=\"text-danger\">\n          * Quick login account with {auth.user.type} can't use this function *\n        </small>\n      )}\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"password\">ລະຫັດຜ່ານ</label>\n\n        <div className=\"pass\">\n          <input\n            type={typePass ? \"text\" : \"password\"}\n            className=\"form-control\"\n            id=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChangeInput}\n            disabled={auth.user.type !== \"register\"}\n          />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            {typePass ? \"Hide\" : \"Show\"}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"cf_password\">ຢືນຢັນລະຫັດຜ່ານ</label>\n\n        <div className=\"pass\">\n          <input\n            type={typeCfPass ? \"text\" : \"password\"}\n            className=\"form-control\"\n            id=\"cf_password\"\n            name=\"cf_password\"\n            value={cf_password}\n            onChange={handleChangeInput}\n            disabled={auth.user.type !== \"register\"}\n          />\n\n          <small onClick={() => setTypeCfPass(!typeCfPass)}>\n            {typeCfPass ? \"Hide\" : \"Show\"}\n          </small>\n        </div>\n      </div>\n\n      <button className=\"btn btn-dark w-100\" type=\"submit\">\n        ເເກ້ໄຂ\n      </button>\n    </form>\n  );\n};\n\nexport default UserInfo;\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getOtherInfo } from '../../redux/actions/userAction'\nimport { RootStore, IUser } from '../../utils/TypeScript'\n\nimport Loading from '../global/Loading'\n\n\ninterface IProps {\n  id: string\n}\n\nconst OtherInfo: React.FC<IProps> = ({id}) => {\n  const [other, setOther] = useState<IUser>()\n\n  const { otherInfo } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(!id) return;\n\n    if(otherInfo.every(user => user._id !== id)){\n      dispatch(getOtherInfo(id))\n    }else{\n      const newUser = otherInfo.find(user => user._id === id)\n      if(newUser) setOther(newUser)\n    }\n  },[id, otherInfo, dispatch])\n\n\n  if(!other) return <Loading />;\n  return (\n    <div className=\"profile_info text-center rounded\">\n      <div className=\"info_avatar\">\n        <img src={other.avatar} alt=\"avatar\" />\n      </div>\n\n      <h5 className=\"text-uppercase text-danger\">\n        {other.role}\n      </h5>\n\n      <div>\n        Name: <span className=\"text-info\">\n          {other.name}\n        </span>\n      </div>\n\n      <div>Email / Phone number</div>\n      <span className=\"text-info\">\n        {other.account}\n      </span>\n\n      <div>\n        Join Date: <span style={{color: '#ffc107'}}>\n          { new Date(other.createdAt).toLocaleString() }\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default OtherInfo\n","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { IParams, RootStore, IBlog } from '../../utils/TypeScript'\n\nimport { getBlogsByUserId } from '../../redux/actions/blogAction'\n\nimport CardHoriz from '../cards/CardHoriz'\nimport Loading from '../global/Loading'\nimport Pagination from '../global/Pagination'\n\nconst UserBlogs = () => {\n  const { blogsUser } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const user_id = useParams<IParams>().slug\n\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location\n\n  useEffect(() => {\n    if(!user_id) return;\n\n    if(blogsUser.every(item => item.id !== user_id)){\n      dispatch(getBlogsByUserId(user_id, search))\n    }else{\n      const data = blogsUser.find(item => item.id === user_id)\n      if(!data) return;\n\n      setBlogs(data.blogs)\n      setTotal(data.total)\n      if(data.search) history.push(data.search)\n    }\n  },[user_id, blogsUser, dispatch, search, history])\n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByUserId(user_id, search))\n  }\n\n\n  if(!blogs) return <Loading />;\n\n  if(blogs.length === 0 && total < 1) return(\n    <h3 className=\"text-center\">No Suttra</h3>\n  )\n\n  return (\n    <div>\n      <div>\n        {\n          blogs.map(blog => (\n            <CardHoriz key={blog._id} blog={blog} />\n          ))\n        }\n      </div>\n\n      <div>\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default UserBlogs\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, RootStore } from '../../utils/TypeScript'\n\nimport UserInfo from '../../components/profile/UserInfo'\nimport OtherInfo from '../../components/profile/OtherInfo'\nimport UserBlogs from '../../components/profile/UserBlogs'\n\nconst Profile = () => {\n  const { slug }: IParams = useParams()\n  const { auth } = useSelector((state: RootStore) => state)\n\n  return (\n    <div className=\"row my-3\">\n      <div className=\"col-md-5 mb-3\">\n        {\n          auth.user?._id === slug\n          ? <UserInfo />\n          : <OtherInfo id={slug} />\n        }\n      </div>\n\n      <div className=\"col-md-7\">\n        <UserBlogs />\n      </div>\n    </div>\n  )\n}\n\nexport default Profile\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { InputChange, FormSubmit } from \"../../utils/TypeScript\";\nimport { register } from \"../../redux/actions/authAction\";\n\nconst RegisterForm = () => {\n  const initialState = {\n    name: \"\",\n    account: \"\",\n    password: \"\",\n    cf_password: \"\",\n  };\n  const [userRegister, setUserRegister] = useState(initialState);\n  const { name, account, password, cf_password } = userRegister;\n\n  const [typePass, setTypePass] = useState(false);\n  const [typeCfPass, setTypeCfPass] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const handleChangeInput = (e: InputChange) => {\n    const { value, name } = e.target;\n    setUserRegister({ ...userRegister, [name]: value });\n  };\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault();\n    dispatch(register(userRegister));\n  };\n\n  return (\n    <form onSubmit={handleSubmit} >\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"name\" className=\"form-label\">\n          ຊື້\n        </label>\n\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"name\"\n          name=\"name\"\n          value={name}\n          onChange={handleChangeInput}\n          placeholder=\"ຊື້\"\n        />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          ອີເມວ\n        </label>\n\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"account\"\n          name=\"account\"\n          value={account}\n          onChange={handleChangeInput}\n          placeholder=\"Example@gmail.com\"\n        />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          ລະຫັດຜ່ານ\n        </label>\n\n        <div className=\"pass\">\n          <input\n            type={typePass ? \"text\" : \"password\"}\n            className=\"form-control\"\n            id=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChangeInput}\n            placeholder=\"ກະລຸນາປ້ອນລະຫັດຢ່າງໜ້ອຍ 6 ໂຕຂື້ນໄປ\"\n          />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            {typePass ? \"Hide\" : \"Show\"}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          ຢືນຢັນລະຫັດຜ່ານ\n        </label>\n\n        <div className=\"pass\">\n          <input\n            type={typeCfPass ? \"text\" : \"password\"}\n            className=\"form-control\"\n            id=\"cf_password\"\n            name=\"cf_password\"\n            value={cf_password}\n            onChange={handleChangeInput}\n            placeholder=\"ຢືນຢັນລະຫັດຜ່ານ\"\n          />\n\n          <small onClick={() => setTypeCfPass(!typeCfPass)}>\n            {typeCfPass ? \"Hide\" : \"Show\"}\n          </small>\n        </div>\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"btn btn-dark w-100 my-1\"\n        style={{ backgroundColor: \"#A0522D\" }}\n      >\n        ເຂົ້າສູ່ລະບົບ\n      </button>\n    </form>\n  );\n};\n\nexport default RegisterForm;\n","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\n\nimport RegisterForm from '../components/auth/RegisterForm'\n\nconst Register = () => {\n  const history = useHistory()\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">ສະມັກສະມາຊິກ</h3>\n\n        <RegisterForm />\n\n        <p className=\"mt-2 text-amber-800\">\n          {`ທ່ານມີບັນຊີເເລ້ວ ຫືຼ ຍັງ? `}\n          <Link\n            to={`/login${history.location.search}`}\n            style={{ color: \"crimson\" }}\n          >\n            ເຂົ້າສູ່ລະບົບ\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Register\n","var map = {\n\t\"./\": 77,\n\t\"./active/[slug]\": 85,\n\t\"./active/[slug].tsx\": 85,\n\t\"./blog/[slug]\": 112,\n\t\"./blog/[slug].tsx\": 112,\n\t\"./blogs/[slug]\": 107,\n\t\"./blogs/[slug].tsx\": 107,\n\t\"./category\": 108,\n\t\"./category.tsx\": 108,\n\t\"./create_blog\": 67,\n\t\"./create_blog.tsx\": 67,\n\t\"./forgot_password\": 109,\n\t\"./forgot_password.tsx\": 109,\n\t\"./index\": 77,\n\t\"./index.tsx\": 77,\n\t\"./login\": 113,\n\t\"./login.tsx\": 113,\n\t\"./profile/[slug]\": 114,\n\t\"./profile/[slug].tsx\": 114,\n\t\"./register\": 115,\n\t\"./register.tsx\": 115,\n\t\"./reset_password/[slug]\": 110,\n\t\"./reset_password/[slug].tsx\": 110,\n\t\"./update_blog/[slug]\": 111,\n\t\"./update_blog/[slug].tsx\": 111\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 133;","import { IComment } from '../../utils/TypeScript'\n\nexport const CREATE_COMMENT = \"CREATE_COMMENT\"\nexport const GET_COMMENTS = \"GET_COMMENTS\"\nexport const REPLY_COMMENT = \"REPLY_COMMENT\"\nexport const UPDATE_COMMENT = \"UPDATE_COMMENT\"\nexport const UPDATE_REPLY = \"UPDATE_REPLY\"\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\nexport const DELETE_REPLY = \"DELETE_REPLY\"\n\nexport interface ICommentState {\n  data: IComment[],\n  total: number\n}\n\nexport interface ICreateCommentType {\n  type: typeof CREATE_COMMENT,\n  payload: IComment\n}\n\nexport interface IGetCommentsType {\n  type: typeof GET_COMMENTS,\n  payload: ICommentState\n}\n\nexport interface IReplyCommentType {\n  type: typeof REPLY_COMMENT,\n  payload: IComment\n}\n\nexport interface IUpdateType {\n  type: typeof UPDATE_COMMENT | typeof UPDATE_REPLY,\n  payload: IComment\n}\n\nexport interface IDeleteType {\n  type: typeof DELETE_COMMENT | typeof DELETE_REPLY,\n  payload: IComment\n}\n\n\n\nexport type ICommentType = \n| ICreateCommentType\n| IGetCommentsType\n| IReplyCommentType\n| IUpdateType\n| IDeleteType","import jwt_decode from \"jwt-decode\";\nimport { AUTH } from '../redux/types/authType'\nimport { getAPI } from './FetchData'\n\n\ninterface IToken {\n  exp: number\n  iat: number\n  id: string\n}\n\nexport const checkTokenExp = async (token: string, dispatch: any) => {\n  const decoded: IToken = jwt_decode(token)\n\n  if(decoded.exp >= Date.now() / 1000) return;\n\n  const res = await getAPI('refresh_token')\n  dispatch({ type: AUTH, payload: res.data })\n  return res.data.access_token;\n}","import { Dispatch } from 'redux'\nimport { AUTH, IAuthType } from '../types/authType'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { IUserLogin, IUserRegister } from '../../utils/TypeScript'\nimport { postAPI, getAPI } from '../../utils/FetchData'\nimport { validRegister, validPhone } from '../../utils/Valid'\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\n\nexport const login = (userLogin: IUserLogin) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('login', userLogin)\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'suttra')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const register = (userRegister: IUserRegister) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const check = validRegister(userRegister)\n  \n  if(check.errLength > 0)\n    return dispatch({ type: ALERT, payload: { errors: check.errMsg } })\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await postAPI('register', userRegister)\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const refreshToken = () => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const logged = localStorage.getItem('logged')\n  if(logged !== 'suttra') return;\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await getAPI('refresh_token')\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n    localStorage.removeItem('logged')\n  }\n}\n\n\nexport const logout = (token: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  \n  try {\n    localStorage.removeItem('logged')\n    dispatch({ type: AUTH, payload: { } })\n    await getAPI('logout', access_token)\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const googleLogin = (id_token: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('google_login', { id_token })\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'suttra')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const facebookLogin = (accessToken: string, userID: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('facebook_login', { accessToken, userID })\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'suttra')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const loginSMS = (phone: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const check = validPhone(phone)\n  if(!check) \n    return dispatch({ \n      type: ALERT, \n      payload: { errors: 'Phone number format is incorrect.' }\n    });\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('login_sms', { phone })\n    \n    if(!res.data.valid)\n      verifySMS(phone, dispatch)\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const verifySMS = async (\n  phone: string, dispatch: Dispatch<IAuthType | IAlertType>\n) => {\n    const code = prompt('Enter your code')\n    if(!code) return;\n\n    try {\n      dispatch({ type: ALERT, payload: { loading: true } })\n\n      const res = await postAPI('sms_verify', { phone, code })\n      \n      dispatch({ type: AUTH,payload: res.data })\n\n      dispatch({ type: ALERT, payload: { success: res.data.msg } })\n      localStorage.setItem('logged', 'suttra')\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n      setTimeout(() => {\n        verifySMS(phone, dispatch)\n      }, 100);\n    }\n    \n}\n\n\nexport const forgotPassword = (account: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('forgot_password', { account })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}","import { IBlog } from '../../utils/TypeScript'\n\nexport const GET_HOME_BLOGS = \"GET_HOME_BLOGS\"\nexport const GET_BLOGS_CATEGORY_ID = \"GET_BLOGS_CATEGORY_ID\"\nexport const GET_BLOGS_USER_ID = \"GET_BLOGS_USER_ID\"\nexport const CREATE_BLOGS_USER_ID = \"CREATE_BLOGS_USER_ID\"\nexport const DELETE_BLOGS_USER_ID = \"DELETE_BLOGS_USER_ID\"\n\n\nexport interface IHomeBlogs {\n  _id: string\n  name: string\n  count: number\n  blogs: IBlog[]\n}\n\nexport interface IGetHomeBlogsType {\n  type: typeof GET_HOME_BLOGS,\n  payload: IHomeBlogs[]\n}\n\nexport interface IBlogsCategory {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsCategoryType {\n  type: typeof GET_BLOGS_CATEGORY_ID,\n  payload: IBlogsCategory\n}\n\nexport interface IBlogsUser {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsUserType {\n  type: typeof GET_BLOGS_USER_ID,\n  payload: IBlogsUser\n}\n\nexport interface ICreateBlogsUserType {\n  type: typeof CREATE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport interface IDeleteBlogsUserType {\n  type: typeof DELETE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport type IBlogUserType = \n| IGetBlogsUserType\n| ICreateBlogsUserType\n| IDeleteBlogsUserType","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { IParams } from './utils/TypeScript'\nimport NotFound from './components/global/NotFound'\n\n\nconst generatePage = (name: string) => {\n  const component = () => require(`./pages/${name}`).default\n\n  try {\n    return React.createElement(component())\n  } catch (err) {\n    return <NotFound />;\n  }\n}\n\nconst PageRender = () => {\n  const { page, slug }: IParams = useParams()\n\n  let name = '';\n\n  if(page){\n    name = slug ? `${page}/[slug]` : `${page}`\n  }\n\n  return generatePage(name)\n}\n\nexport default PageRender\n","import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport { getAPI } from \"../../utils/FetchData\";\nimport { IBlog } from \"../../utils/TypeScript\";\n\nimport CardHoriz from \"../cards/CardHoriz\";\n\nconst Search = () => {\n  const [search, setSearch] = useState(\"\");\n  const [blogs, setBlogs] = useState<IBlog[]>([]);\n\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if (search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?content=${search}`);\n        setBlogs(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    }, 400);\n\n    return () => clearTimeout(delayDebounce);\n  }, [search]);\n\n  useEffect(() => {\n    setSearch(\"\");\n    setBlogs([]);\n  }, [pathname]);\n\n  return (\n    <>\n      <input\n        type=\"search\"\n        className=\"ml-10 pl-10 w-full mx-auto shadow-sm\"\n        style={{ height: \"40px\", borderRadius: \"8px\" }}\n        value={search}\n        placeholder=\" 🔍ຄົ້ນຫາພຣະສູດ...\"\n        onChange={(e) => setSearch(e.target.value)}\n      />\n      {search.length >= 2 && (\n        <div\n          className=\"position-absolute pt-2 px-1 w-auto rounded\"\n          style={{\n            background: \"#eee\",\n            zIndex: 10,\n            maxHeight: \"calc(100vh - 100px)\",\n            overflow: \"auto\",\n          }}\n        >\n          {blogs.length ? (\n            blogs.map((blog) => <CardHoriz key={blog._id} blog={blog} />)\n          ) : (\n            <h3 className=\"text-center\">No Suttra</h3>\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { RootStore } from \"../../utils/TypeScript\";\nimport { logout } from \"../../redux/actions/authAction\";\n\nconst Menu = () => {\n  const { auth } = useSelector((state: RootStore) => state);\n  const dispatch = useDispatch();\n\n  const { pathname } = useLocation();\n\n  const bfLoginLinks = [\n    { label: \"ໜ້າຫຼັກ\", path: \"/\" },\n    { label: \"ເຂົ້າສູ່ລະບົບ\", path: \"/login\" },\n    { label: \"ສະມັກສະມາຊິກ\", path: \"/register\" },\n  ];\n\n  const afLoginLinks = [\n    { label: \"ໜ້າຫຼັກ\", path: \"/\" },\n    { label: \"ເພີ້ມພຣະສູດ\", path: \"/create_blog\" },\n  ];\n\n  const navLinks = auth.access_token ? afLoginLinks : bfLoginLinks;\n\n  const isActive = (pn: string) => {\n    if (pn === pathname) return \"active\";\n  };\n\n  const handleLogout = () => {\n    if (!auth.access_token) return;\n    dispatch(logout(auth.access_token));\n  };\n\n  return (\n    <ul\n      className=\"navbar-nav ms-auto\"\n      style={{ backgroundColor: \"#FEF7EC\", fontWeight: \"bold\" }}\n    >\n      {navLinks.map((link, index) => (\n        <>\n          <li\n            key={index}\n            className={`nav-item ${isActive(link.path)}`}\n            style={{ fontWeight: \"bold\" }}\n          >\n            <Link\n              className=\"nav-link\"\n              to={link.path}\n              style={{ fontWeight: \"bold\" }}\n            >\n              {link.label}\n            </Link>\n          </li>\n        </>\n      ))}\n\n      {auth.user?.role === \"admin\" && (\n        <li className={`nav-item ${isActive(\"/category\")}`}>\n          <Link to=\"/category\" className=\"nav-link\">\n            ໝວດທັມ\n          </Link>\n        </li>\n      )}\n\n      {auth.user && (\n        <li className=\"nav-item dropdown\">\n          <span\n            className=\"nav-link dropdown-toggle\"\n            id=\"navbarDropdown\"\n            role=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            <img src={auth.user.avatar} alt=\"avatar\" className=\"avatar\" />\n          </span>\n\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li>\n              <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>\n                ຂໍ້ມູນສະມາຊິກ\n              </Link>\n            </li>\n\n            <li>\n              <hr className=\"dropdown-divider\" />\n            </li>\n\n            <li>\n              <Link className=\"dropdown-item\" to=\"/\" onClick={handleLogout}>\n                ອອກຈາກລະບົບ\n              </Link>\n            </li>\n          </ul>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"./Search\";\nimport Menu from \"./Menu\";\nconst Headers = () => {\n  return (\n    <>\n      <nav\n        className=\"navbar navbar-expand-lg navbar-light bg-transparent border-gray-200 rounded dark:bg-gray-900\"\n        style={{\n          position: \"sticky\",\n          top: 0,\n          left: 0,\n          zIndex: 9,\n          backgroundColor: \"#FEF7EC\",\n        }}\n      >\n        {/* <Link classNamorder--1=\"flex items-center\" to=\"/\">\n          <img\n            className=\"w-5\"\n            src=\"https://i.ibb.co/yhw3gtQ/1080.png\"\n            width=\"50\"\n          />\n        </Link> */}\n        <div className=\"w-auto fixed translate-x-96\">\n          <Search />\n        </div>\n        <button\n          style={{ borderRadius: \"12px\" }}\n          className=\"navbar-toggler w-auto position-relative rounded-md fixed translate-x-96\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div\n          className=\"collapse navbar-collapse fixed translate-x-96\"\n          id=\"navbarNav\"\n        >\n          <Menu />\n        </div>\n      </nav>\n    </>\n  );\n};\n\nexport default Headers;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { RootStore, IComment } from \"./utils/TypeScript\";\n\nimport {\n  CREATE_COMMENT,\n  REPLY_COMMENT,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n} from \"./redux/types/commentType\";\n\nconst SocketClient = () => {\n  const { socket } = useSelector((state: RootStore) => state);\n  const dispatch = useDispatch();\n\n  // Create Comment\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on(\"createComment\", (data: IComment) => {\n      dispatch({ type: CREATE_COMMENT, payload: data });\n    });\n\n    return () => {\n      socket.off(\"createComment\");\n    };\n  }, [socket, dispatch]);\n\n  // Reply Comment\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on(\"replyComment\", (data: IComment) => {\n      dispatch({ type: REPLY_COMMENT, payload: data });\n    });\n\n    return () => {\n      socket.off(\"replyComment\");\n    };\n  }, [socket, dispatch]);\n\n  // Update Comment\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on(\"updateComment\", (data: IComment) => {\n      dispatch({\n        type: data.comment_root ? UPDATE_REPLY : UPDATE_COMMENT,\n        payload: data,\n      });\n    });\n\n    return () => {\n      socket.off(\"updateComment\");\n    };\n  }, [socket, dispatch]);\n\n  // Delete Comment\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on(\"deleteComment\", (data: IComment) => {\n      dispatch({\n        type: data.comment_root ? DELETE_REPLY : DELETE_COMMENT,\n        payload: data,\n      });\n    });\n\n    return () => {\n      socket.off(\"deleteComment\");\n    };\n  }, [socket, dispatch]);\n\n  return <div></div>;\n};\n\nexport default SocketClient;\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport PageRender from \"./PageRender\";\nimport Headers from \"./components/global/Headers\";\nimport { Alert } from \"./components/alert/Alert\";\nimport { refreshToken } from \"./redux/actions/authAction\";\nimport { getCategories } from \"./redux/actions/categoryAction\";\nimport { getHomeBlogs } from \"./redux/actions/blogAction\";\nimport io from \"socket.io-client\";\nimport SocketClient from \"./SocketClient\";\nimport { API_URL } from \"./utils/config\";\nimport \"@pwabuilder/pwainstall\";\n\nlet deferredPrompt;\n\nconst App = () => {\n  const [installable, setInstallable] = useState(false);\n\n  useEffect(() => {\n    window.addEventListener(\"beforeinstallprompt\", (e) => {\n      // Prevent the mini-infobar from appearing on mobile\n      e.preventDefault();\n      // Stash the event so it can be triggered later.\n      deferredPrompt = e;\n      // Update UI notify the user they can install the PWA\n      setInstallable(true);\n    });\n\n    window.addEventListener(\"appinstalled\", () => {\n      // Log install to analytics\n      console.log(\"INSTALL: Success\");\n    });\n  }, []);\n\n  window.addEventListener(\"appinstalled\", (evt) => {\n    console.log(\"App Installed\");\n  });\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getCategories());\n    dispatch(refreshToken());\n    dispatch(getHomeBlogs());\n  }, [dispatch]);\n\n  useEffect(() => {\n    //Deploy\n    const socket = io(API_URL);\n    // const socket = io(\"http://localhost:5000\");\n    dispatch({ type: \"SOCKET\", payload: socket });\n    return () => {\n      socket.close();\n    };\n  }, [dispatch]);\n\n  return (\n    <div className=\"container\">\n      <SocketClient />\n      <Router>\n        <Alert />\n        <Headers />\n\n        <Switch>\n          <Route exact path=\"/\" component={PageRender} />\n          <Route exact path=\"/:page\" component={PageRender} />\n          <Route exact path=\"/:page/:slug\" component={PageRender} />\n        </Switch>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { AUTH, IAuth, IAuthType } from '../types/authType'\n\n\nconst authReducer = (state: IAuth = {}, action: IAuthType): IAuth => {\n  switch (action.type){\n    case AUTH:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default authReducer;","import { ALERT, IAlertType } from '../types/alertType'\nimport { IAlert } from '../../utils/TypeScript'\n\n\nconst alertReducer = (state: IAlert = {}, action: IAlertType): IAlert => {\n  switch (action.type){\n    case ALERT:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default alertReducer;","import * as types from '../types/categoryType'\nimport { ICategory } from '../../utils/TypeScript'\n\nconst categoryReducer = (\n  state: ICategory[] = [], action: types.ICategoryType\n): ICategory[] => {\n  switch (action.type) {\n    case types.CREATE_CATEGORY:\n      return [action.payload, ...state]\n\n    case types.GET_CATEGORIES:\n      return action.payload\n\n    case types.UPDATE_CATEGORY:\n      return state.map(item => (\n        item._id === action.payload._id\n        ? { ...item, name: action.payload.name}\n        : item\n      ))\n\n    case types.DELETE_CATEGORY:\n      return state.filter(item => item._id !== action.payload)\n      \n    default:\n      return state;\n  }\n}\n\nexport default categoryReducer;","import {\n  GET_HOME_BLOGS,\n  IGetHomeBlogsType,\n  IHomeBlogs\n} from '../types/blogType'\n\n\nconst homeBlogsReducer = (\n  state: IHomeBlogs[] = [],\n  action: IGetHomeBlogsType\n): IHomeBlogs[] => {\n  switch (action.type){\n    case GET_HOME_BLOGS:\n      return action.payload\n\n    default:\n      return state\n  }\n}\n\n\nexport default homeBlogsReducer","import {\n  GET_BLOGS_CATEGORY_ID,\n  IBlogsCategory,\n  IGetBlogsCategoryType\n} from '../types/blogType'\n\n\nconst blogsCategoryReducer = (\n  state: IBlogsCategory[] = [],\n  action: IGetBlogsCategoryType\n): IBlogsCategory[] => {\n  switch(action.type){\n    case GET_BLOGS_CATEGORY_ID:\n      if(state.every(item => item.id !== action.payload.id)){\n        return [...state, action.payload]\n\n      }else{\n        return state.map(blog => (\n          blog.id === action.payload.id\n          ? action.payload\n          : blog\n        ))\n      }\n\n    default:\n      return state;\n  }\n}\n\n\nexport default blogsCategoryReducer;","import { IUser } from '../../utils/TypeScript'\nimport {\n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\n\nconst otherInfoReducer = (\n  state: IUser[] = [],\n  action: IGetOtherInfoType\n): IUser[] => {\n  switch(action.type){\n    case GET_OTHER_INFO:\n      return [...state, action.payload]\n\n    default:\n      return state\n  }\n}\n\nexport default otherInfoReducer","import { IUser } from '../../utils/TypeScript'\n\nimport {\n  IBlogsUser,\n  GET_BLOGS_USER_ID,\n  CREATE_BLOGS_USER_ID,\n  DELETE_BLOGS_USER_ID,\n  IBlogUserType\n} from '../types/blogType'\n\n\nconst blogsUserReducer = (\n  state: IBlogsUser[] = [],\n  action: IBlogUserType\n): IBlogsUser[] => {\n  switch(action.type){\n    case GET_BLOGS_USER_ID:\n      if(state.every(item => item.id !== action.payload.id)){\n        return [...state, action.payload]\n\n      }else{\n        return state.map(item => (\n          item.id === action.payload.id\n          ? action.payload\n          : item\n        ))\n      }\n    \n    case CREATE_BLOGS_USER_ID:\n      return state.map(item => (\n        item.id === (action.payload.user as IUser)._id\n        ? {\n          ...item,\n          blogs: [action.payload, ...item.blogs]\n        }\n        : item\n      ))\n\n    case DELETE_BLOGS_USER_ID:\n      return state.map(item => (\n        item.id === (action.payload.user as IUser)._id\n        ? {\n          ...item,\n          blogs: item.blogs.filter(blog => (\n            blog._id !== action.payload._id\n          ))\n        }\n        : item\n      ))\n    default:\n      return state;\n  }\n}\n\n\nexport default blogsUserReducer;","import {\n  ICommentState,\n  CREATE_COMMENT,\n  GET_COMMENTS,\n  REPLY_COMMENT,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n  ICommentType\n} from '../types/commentType'\n\nconst initialState = {\n  data: [],\n  total: 1\n}\n\n\nconst commentReducer = (\n  state: ICommentState = initialState,\n  action: ICommentType\n): ICommentState => {\n  switch(action.type){\n    case CREATE_COMMENT:\n      return{\n        ...state,\n        data: [action.payload, ...state.data]\n      }\n    \n    case GET_COMMENTS:\n      return action.payload\n\n    case REPLY_COMMENT:\n      return {\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: [\n              action.payload,\n              ...item.replyCM\n            ]\n          }\n          : item\n        ))\n      }\n\n    case UPDATE_COMMENT:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload._id\n          ? action.payload\n          : item\n        ))\n      }\n\n    case UPDATE_REPLY:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: item.replyCM?.map(rp => (\n              rp._id === action.payload._id\n              ? action.payload\n              : rp\n            ))\n          }\n          : item\n        ))\n      }\n      \n    case DELETE_COMMENT:\n      return{\n        ...state,\n        data: state.data.filter(item => \n          item._id !== action.payload._id\n        )\n      }\n\n    case DELETE_REPLY:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: item.replyCM?.filter(rp => (\n              rp._id !== action.payload._id\n            ))\n          }\n          : item\n        ))\n      }\n      \n    default:\n      return state\n  }\n}\n\n\nexport default commentReducer","import { Socket } from 'socket.io-client'\n\nexport const SOCKET = \"SOCKET\"\n\nexport interface ISocketType {\n  type: typeof SOCKET,\n  payload: Socket\n}","import { SOCKET, ISocketType } from '../types/socketType'\n\nconst socketReducer = (state: any = null, action: ISocketType): any => {\n  switch(action.type) {\n    case SOCKET:\n      return action.payload\n    default: \n      return state\n  }\n}\n\nexport default socketReducer\n","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport categories from './categoryReducer'\nimport homeBlogs from './homeBlogsReducer'\nimport blogsCategory from './blogsCategoryReducer'\nimport otherInfo from './otherInfoReducer'\nimport blogsUser from './blogsUserReducer'\nimport comments from './commentReducer'\nimport socket from './socketReducer'\n\nexport default combineReducers({\n  auth,\n  alert,\n  categories,\n  homeBlogs,\n  blogsCategory,\n  otherInfo,\n  blogsUser,\n  comments,\n  socket\n})","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nserviceWorkerRegistration.register();\nreportWebVitals();\n","import { Dispatch } from \"redux\";\nimport { IBlog } from \"../../utils/TypeScript\";\nimport { imageUpload } from \"../../utils/ImageUpload\";\nimport { postAPI, getAPI, putAPI, deleteAPI } from \"../../utils/FetchData\";\n\nimport { ALERT, IAlertType } from \"../types/alertType\";\n\nimport {\n  GET_HOME_BLOGS,\n  IGetHomeBlogsType,\n  GET_BLOGS_CATEGORY_ID,\n  IGetBlogsCategoryType,\n  GET_BLOGS_USER_ID,\n  IGetBlogsUserType,\n  CREATE_BLOGS_USER_ID,\n  ICreateBlogsUserType,\n  DELETE_BLOGS_USER_ID,\n  IDeleteBlogsUserType,\n} from \"../types/blogType\";\n\nimport { checkTokenExp } from \"../../utils/checkTokenExp\";\n\nexport const createBlog =\n  (blog: IBlog, token: string) =>\n  async (dispatch: Dispatch<IAlertType | ICreateBlogsUserType>) => {\n    const result = await checkTokenExp(token, dispatch);\n    const access_token = result ? result : token;\n\n    let url;\n    try {\n      dispatch({ type: ALERT, payload: { loading: true } });\n\n      if (typeof blog.thumbnail !== \"string\") {\n        const photo = await imageUpload(blog.thumbnail);\n        url = photo.url;\n      } else {\n        url = blog.thumbnail;\n      }\n\n      const newBlog = { ...blog, thumbnail: url };\n\n      const res = await postAPI(\"blog\", newBlog, access_token);\n\n      dispatch({\n        type: CREATE_BLOGS_USER_ID,\n        payload: res.data,\n      });\n\n      dispatch({ type: ALERT, payload: { loading: false } });\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } });\n    }\n  };\n\nexport const getHomeBlogs =\n  () => async (dispatch: Dispatch<IAlertType | IGetHomeBlogsType>) => {\n    try {\n      dispatch({ type: ALERT, payload: { loading: true } });\n\n      const res = await getAPI(\"home/blogs\");\n\n      dispatch({\n        type: GET_HOME_BLOGS,\n        payload: res.data,\n      });\n\n      dispatch({ type: ALERT, payload: { loading: false } });\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } });\n    }\n  };\n\nexport const getBlogsByCategoryId =\n  (id: string, search: string) =>\n  async (dispatch: Dispatch<IAlertType | IGetBlogsCategoryType>) => {\n    try {\n      let limit = 8;\n      let value = search ? search : `?page=${1}`;\n\n      dispatch({ type: ALERT, payload: { loading: true } });\n\n      const res = await getAPI(`blogs/category/${id}${value}&limit=${limit}`);\n\n      dispatch({\n        type: GET_BLOGS_CATEGORY_ID,\n        payload: { ...res.data, id, search },\n      });\n\n      dispatch({ type: ALERT, payload: { loading: false } });\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } });\n    }\n  };\n\nexport const getBlogsByUserId =\n  (id: string, search: string) =>\n  async (dispatch: Dispatch<IAlertType | IGetBlogsUserType>) => {\n    try {\n      let limit = 3;\n      let value = search ? search : `?page=${1}`;\n\n      dispatch({ type: ALERT, payload: { loading: true } });\n\n      const res = await getAPI(`blogs/user/${id}${value}&limit=${limit}`);\n\n      dispatch({\n        type: GET_BLOGS_USER_ID,\n        payload: { ...res.data, id, search },\n      });\n\n      dispatch({ type: ALERT, payload: { loading: false } });\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } });\n    }\n  };\n\nexport const updateBlog =\n  (blog: IBlog, token: string) => async (dispatch: Dispatch<IAlertType>) => {\n    const result = await checkTokenExp(token, dispatch);\n    const access_token = result ? result : token;\n    let url;\n    try {\n      dispatch({ type: ALERT, payload: { loading: true } });\n\n      if (typeof blog.thumbnail !== \"string\") {\n        const photo = await imageUpload(blog.thumbnail);\n        url = photo.url;\n      } else {\n        url = blog.thumbnail;\n      }\n\n      const newBlog = { ...blog, thumbnail: url };\n\n      const res = await putAPI(`blog/${newBlog._id}`, newBlog, access_token);\n\n      dispatch({ type: ALERT, payload: { success: res.data.msg } });\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } });\n    }\n  };\n\nexport const deleteBlog =\n  (blog: IBlog, token: string) =>\n  async (dispatch: Dispatch<IAlertType | IDeleteBlogsUserType>) => {\n    const result = await checkTokenExp(token, dispatch);\n    const access_token = result ? result : token;\n    try {\n      dispatch({\n        type: DELETE_BLOGS_USER_ID,\n        payload: blog,\n      });\n\n      await deleteAPI(`blog/${blog._id}`, access_token);\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } });\n    }\n  };\n","import { IUser } from '../../utils/TypeScript'\n\nexport const AUTH = 'AUTH'\n\nexport interface IAuth {\n  msg?: string\n  access_token?: string\n  user?: IUser\n}\n\nexport interface IAuthType{\n  type: typeof AUTH\n  payload: IAuth\n}","import { IAlert } from '../../utils/TypeScript'\n\nexport const ALERT = 'ALERT'\n\nexport interface IAlertType {\n  type: typeof ALERT\n  payload: IAlert\n}","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"d-flex justify-content-center my-4\">\n      <div className=\"spinner-border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  )\n}\n\nexport default Loading\n","import { ICategory } from '../../utils/TypeScript'\n\nexport const CREATE_CATEGORY = 'CREATE_CATEGORY'\nexport const GET_CATEGORIES = 'GET_CATEGORIES'\nexport const UPDATE_CATEGORY = 'UPDATE_CATEGORY'\nexport const DELETE_CATEGORY = 'DELETE_CATEGORY'\n\n\nexport interface ICreateCatery{\n  type: typeof CREATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IGetCategories{\n  type: typeof GET_CATEGORIES\n  payload: ICategory[]\n}\n\nexport interface IUpdateCategory{\n  type: typeof UPDATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IDeleteCategory{\n  type: typeof DELETE_CATEGORY\n  payload: string\n}\n\nexport type ICategoryType = \n| ICreateCatery \n| IGetCategories\n| IUpdateCategory\n| IDeleteCategory\n","export const checkImage = (file: File) => {\n  const types = ['image/png', 'image/jpeg']\n  let err = ''\n  if(!file) return err = \"File does not exist.\"\n\n  if(file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb\"\n\n  if(!types.includes(file.type))\n    err = \"The image type is png / jpeg\"\n\n  return err;\n}\n\nexport const imageUpload = async (file: File) => {\n  const formData = new FormData()\n  formData.append(\"file\", file)\n  formData.append(\"upload_preset\", \"sutra_next\")\n  formData.append(\"cloud_name\", \"suttra\")\n\n  const res = await fetch(\"https://api.cloudinary.com/v1_1/suttra/upload\", {\n    method: \"POST\",\n    body: formData\n  })\n\n  const data = await res.json()\n  return { public_id: data.public_id, url: data.secure_url };\n}","import React from \"react\";\n\nconst NotFound = () => {\n  return (\n    <div\n      className=\"position-relative\"\n      style={{ minHeight: \"calc(100vh - 70px)\" }}\n    >\n      <h2\n        className=\"position-absolute text-secondary\"\n        style={{ top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}\n      >\n        404 | NotFound\n      </h2>\n    </div>\n  );\n};\n\nexport default NotFound;\n","export const API_URL = \"https://dhama-sutra.vercel.app\"\r\n// export const API_URL = \"http://localhost:5000\"\r\n","/* eslint-disable no-empty-pattern */\nimport { IUserRegister, IBlog } from './TypeScript'\n\nexport const validRegister = (userRegister: IUserRegister) => {\n  const { name, account, password, cf_password } = userRegister;\n  const errors: string[] = [];\n\n  if(!name){\n    errors.push(\"ກະລຸນາປ້ອນຊື່\")\n  }else if(name.length > 20){\n    errors.push(\"Your name is up to 20 chars long.\")\n  }\n\n  if(!account){\n    errors.push(\"ກະລຸນາປ້ອນອີເມວ\")\n  }else if(!validPhone(account) && !validateEmail(account)){\n    errors.push(\"Email or phone number format is incorrect.\")\n  }\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) errors.push(msg)\n\n  return {\n    errMsg: errors,\n    errLength: errors.length\n  }\n}\n\n\nexport const checkPassword = (password: string, cf_password: string) => {\n  if(password.length < 6){\n    return (\"ກະລຸນາປ້ອນລະຫັດຜ່ານໃຫ້ເກີນກວ່າ 6 ໂຕ\")\n  }else if(password !== cf_password){\n    return (\"ກະລຸນາຢືນຢັນລະຫັດຜ່ານໃຫ້ຕົງກັນ\")\n  }\n}\n\nexport function validPhone(phone: string) {\n  const re = /^[+]/g\n  return re.test(phone)\n}\n\nexport function validateEmail(email: string) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\n\n// Valid Blog\nexport const validCreateBlog = ({\n  // title, content, description, thumbnail, category\n}: IBlog) => {\n  const err: string[] = []\n\n  // if(title.trim().length < 10){\n  //   err.push(\"Title has at least 10 characters.\")\n  // }else if(title.trim().length > 50){\n  //   err.push(\"Title is up to 50 characters long.\")\n  // }\n\n  // if(content.trim().length < 2000){\n  //   err.push(\"Content has at least 2000 characters.\")\n  // }\n\n  // if(description.trim().length < 50){\n  //   err.push(\"Description has at least 50 characters.\")\n  // }else if(description.trim().length > 200){\n  //   err.push(\"Description is up to 200 characters long.\")\n  // }\n\n  // if(!thumbnail){\n  //   err.push(\"Thumbnail cannot be left blank.\")\n  // }\n\n  // if(!category){\n  //   err.push(\"Category cannot be left blank.\")\n  // }\n\n  return {\n    errMsg: err,\n    errLength: err.length\n  }\n\n}\n\n// Shallow equality\nexport const shallowEqual = (object1: any, object2: any) => {\n  const keys1 = Object.keys(object1)\n  const keys2 = Object.keys(object2)\n\n  if(keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for(let key of keys1) {\n    if(object1[key] !== object2[key]){\n      return false;\n    }\n  }\n  \n  return true;\n\n}","import { Dispatch } from 'redux'\nimport { IAuth, IAuthType, AUTH } from '../types/authType'\nimport { IAlertType, ALERT } from '../types/alertType'\n\nimport { checkImage, imageUpload } from '../../utils/ImageUpload'\nimport { patchAPI, getAPI } from '../../utils/FetchData'\nimport { checkPassword } from '../../utils/Valid'\n\nimport { \n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\n\nexport const updateUser = (\n  avatar: File, name: string, auth: IAuth\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n  if(!auth.access_token || !auth.user) return;\n\n  const result = await checkTokenExp(auth.access_token, dispatch)\n  const access_token = result ? result : auth.access_token\n\n  let url = '';\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n    if(avatar){\n      const check = checkImage(avatar)\n      if(check) \n        return dispatch({ type: ALERT,payload: { errors: check } })\n\n      const photo = await imageUpload(avatar)\n      url = photo.url\n    }\n\n    dispatch({ \n      type: AUTH,\n      payload: {\n        access_token: auth.access_token,\n        user: {\n          ...auth.user,\n          avatar: url ? url : auth.user.avatar, \n          name: name ? name : auth.user.name\n        }\n      } \n    })\n\n    const res = await patchAPI('user', { \n      avatar: url ? url : auth.user.avatar, \n      name: name ? name : auth.user.name\n    }, access_token)\n\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const resetPassword = (\n  password: string, cf_password: string, token: string\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) return dispatch({ type: ALERT, payload: {errors: msg}})\n\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await patchAPI('reset_password', { password }, access_token)\n\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const getOtherInfo = (id: string) => \nasync (dispatch: Dispatch<IAlertType | IGetOtherInfoType>) => {\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await getAPI(`user/${id}`)\n\n    dispatch({\n      type: GET_OTHER_INFO,\n      payload: res.data\n    })\n\n    dispatch({ type: ALERT, payload: { }})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"position-fixed w-100 h-100 text-center loading\"\n    style={{background: '#0007', color: \"white\", top: 0, left: 0, zIndex: 99}}>\n      <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n        <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n        points=\"20,1 40,40 1,40\" />\n        <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n      </svg>\n    </div>\n  )\n}\n\nexport default Loading\n","import { useDispatch } from 'react-redux'\nimport { ALERT } from '../../redux/types/alertType'\n\ninterface IProps {\n  title: string\n  body: string | string[]\n  bgColor: string\n}\n\nconst Toast = ({title, body, bgColor}: IProps) => {\n\n  const dispatch = useDispatch()\n\n  const handleClose = () => {\n    dispatch({ type: ALERT, payload: {} })\n  }\n\n  return (\n    <div className={`toast show position-fixed text-light ${bgColor}`}\n    style={{top: '5px', right: '5px', zIndex: 50, minWidth: '200px'}}>\n\n      <div className={`toast-header text-light ${bgColor}`}>\n        <strong className=\"me-auto\">{title}</strong>\n        <button type=\"button\" className=\"btn-close\" \n        data-bs-dismiss=\"toast\" aria-label=\"Close\"\n        onClick={handleClose} />\n      </div>\n\n      <div className=\"toast-body\">\n        {\n          typeof(body) === 'string'\n          ? body\n          : <ul>\n            {\n              body.map((text, index) => (\n                <li key={index}>{text}</li>\n              ))\n            }\n          </ul>\n        }\n      </div>\n\n    </div>\n  )\n}\n\nexport default Toast\n","import { useSelector } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nexport const Alert = () => {\n  const { alert } = useSelector((state: RootStore) => state)\n\n  return (\n    <div>\n      { alert.loading && <Loading /> }\n\n      { \n        alert.errors && \n        <Toast \n        title=\"Errors\"\n        body={alert.errors}\n        bgColor=\"bg-danger\"\n        />\n      }\n\n      { \n        alert.success && \n        <Toast \n        title=\"Success\"\n        body={alert.success}\n        bgColor=\"bg-success\"\n        />\n      }\n    </div>\n  )\n}\n\nexport const showErrMsg = (msg: string) => {\n  return <div className=\"errMsg\">{msg}</div>\n}\n\nexport const showSuccessMsg = (msg: string) => {\n  return <div className=\"successMsg\">{msg}</div>\n}","import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\n\ninterface IProps {\n  total: number\n  callback: (num: number) => void\n}\n\nconst Pagination: React.FC<IProps> = ({total, callback}) => {\n  const [page, setPage] = useState(1)\n\n  const newArr = [...Array(total)].map((_,i) => i + 1)\n  const history = useHistory()\n\n  const isActive = (index: number) => {\n    if(index === page) return \"active\";\n    return \"\"\n  }\n\n  const handlePagination = (num: number) => {\n    history.push(`?page=${num}`)\n    callback(num)\n  }\n\n  useEffect(() => {\n    const num = history.location.search.slice(6) || 1\n    setPage(Number(num))\n  },[history.location.search])\n\n\n  return (\n    <nav aria-label=\"Page navigation example\" style={{cursor: 'pointer'}}>\n      <ul className=\"pagination\">\n        {\n          page > 1 && \n          <li className=\"page-item\" \n          onClick={() => handlePagination(page - 1)}>\n            <span className=\"page-link\" aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n            </span>\n          </li>\n        }\n        \n\n        {\n          newArr.map(num => (\n            <li key={num} className={`page-item ${isActive(num)}`}\n            onClick={() => handlePagination(num)}>\n              <span className=\"page-link\">{num}</span>\n            </li>\n          ))\n        }\n        \n        {\n          page < total &&\n          <li className=\"page-item\"\n          onClick={() => handlePagination(page + 1)}>\n            <span className=\"page-link\" aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n            </span>\n          </li>\n        }\n      </ul>\n    </nav>\n  )\n}\n\nexport default Pagination\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { IBlog, IParams, RootStore } from \"../../utils/TypeScript\";\nimport { deleteBlog } from \"../../redux/actions/blogAction\";\nimport \"./CardHoriz.css\";\n\ninterface IProps {\n  blog: IBlog;\n}\n\nconst CardHoriz: React.FC<IProps> = ({ blog }) => {\n  const { slug } = useParams<IParams>();\n  const { auth } = useSelector((state: RootStore) => state);\n  const dispatch = useDispatch();\n\n  const handleDelete = () => {\n    if (!auth.user || !auth.access_token) return;\n\n    if (slug !== auth.user._id)\n      return dispatch({\n        type: \"ALERT\",\n        payload: { errors: \"Invalid Authentication.\" },\n      });\n\n    if (window.confirm(\"Do you want to delete this Suttra?\")) {\n      dispatch(deleteBlog(blog, auth.access_token));\n    }\n  };\n\n  return (\n    <>\n      <Link to={`/blog/${blog._id}`}>\n        <div\n          className=\"card mb-1\"\n          style={{ minWidth: \"auto\", borderRadius: \"12px\" }}\n        >\n          <div className=\"row g-0 p-2\">\n            <div\n              className=\"col-md-4\"\n              style={{\n                minHeight: \"150px\",\n                maxHeight: \"170px\",\n                overflow: \"hidden\",\n              }}\n            >\n              {blog.thumbnail && (\n                <>\n                  {typeof blog.thumbnail === \"string\" ? (\n                    <Link to={`/blog/${blog._id}`}>\n                      <img\n                        src={blog.thumbnail}\n                        className=\"card__image w-100 h-100 rounded-full\"\n                        alt=\"thumbnail\"\n                        style={{\n                          objectFit: \"cover\",\n                          borderRadius: \"12px\",\n                        }}\n                      />\n                    </Link>\n                  ) : (\n                    <img\n                      src={URL.createObjectURL(blog.thumbnail)}\n                      className=\"w-100 h-100\"\n                      alt=\"thumbnail\"\n                      style={{ objectFit: \"cover\" }}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n\n            <div className=\"col-md-8\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title \">\n                  <Link\n                    to={`/blog/${blog._id}`}\n                    className=\"text-capitalize\"\n                    style={{\n                      color: \"#A66908\",\n                      textDecoration: \"none\",\n                      textTransform: \"capitalize\",\n                      fontWeight: \"bold\",\n                    }}\n                  >\n                    {blog.title}\n                  </Link>\n                </h5>\n                <Link\n                  to={`/blog/${blog._id}`}\n                  style={{\n                    color: \"#A66908\",\n                    textDecoration: \"none\",\n                    textTransform: \"capitalize\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  <h4 className=\"card-text\">\n                    {blog.description}\n                  </h4>\n                </Link>\n\n                {blog.title && (\n                  <div\n                    className=\"card-text d-flex justify-content-between\n                align-items-center\"\n                  >\n                    {auth.user && slug === auth.user._id && (\n                      <div style={{ cursor: \"pointer\" }}>\n                        <Link to={`/update_blog/${blog._id}`}>\n                          <i className=\"fas fa-edit\" title=\"edit\" />\n                        </Link>\n\n                        <i\n                          className=\"fas fa-trash text-danger mx-3\"\n                          title=\"edit\"\n                          onClick={handleDelete}\n                        />\n                      </div>\n                    )}\n                    <small className=\"text-muted\">\n                      {new Date(blog.createdAt).toLocaleString()}\n                    </small>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </Link>\n    </>\n  );\n};\n\nexport default CardHoriz;\n","import { Dispatch } from 'redux'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\nimport { ICategory } from '../../utils/TypeScript'\n\nimport { \n  CREATE_CATEGORY, \n  ICategoryType, \n  GET_CATEGORIES,\n  UPDATE_CATEGORY,\n  DELETE_CATEGORY\n} from '../types/categoryType'\n\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\nexport const createCategory = (name: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await postAPI('category', { name }, access_token)\n\n    dispatch({\n      type: CREATE_CATEGORY,\n      payload: res.data.newCategory\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const getCategories = () => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await getAPI('category')\n    \n    dispatch({\n      type: GET_CATEGORIES,\n      payload: res.data.categories\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const updateCategory = (data: ICategory, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n\n    dispatch({ type: UPDATE_CATEGORY, payload: data })\n\n    await patchAPI(`category/${data._id}`, { \n      name: data.name \n    }, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const deleteCategory = (id: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    \n    dispatch({ type: DELETE_CATEGORY, payload: id })\n    await deleteAPI(`category/${id}`, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { RootStore, IBlog, InputChange } from '../../utils/TypeScript'\n\n\ninterface IProps {\n  blog: IBlog,\n  setBlog: (blog: IBlog) => void\n}\n\nconst CreateForm: React.FC<IProps> = ({blog, setBlog}) => {\n  const { categories } = useSelector((state: RootStore) => state)\n\n  const handleChangeInput = (e: InputChange) => {\n    const { value, name } = e.target\n    setBlog({...blog, [name]:value})\n  }\n\n  const handleChangeThumbnail = (e: InputChange) => {\n    const target = e.target as HTMLInputElement\n    const files = target.files\n    if(files){\n      const file = files[0]\n      setBlog({...blog, thumbnail: file})\n    }\n  }\n\n  return (\n    <form>\n      <div className=\"form-group position-relative\">\n        <input type=\"text\" className=\"form-control\"\n        value={blog.title} name=\"title\" \n        onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.title.length}\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <input type=\"file\" className=\"form-control\"\n        accept=\"image/*\" onChange={handleChangeThumbnail} />\n      </div>\n\n      <div className=\"form-group position-relative\">\n        <textarea className=\"form-control\" rows={4}\n        value={blog.description} style={{resize: 'none'}}\n        name=\"description\" onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.description.length}\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <select className=\"form-control text-capitalize\"\n        value={blog.category} name=\"category\"\n        onChange={handleChangeInput}>\n          <option value=\"\">ເລືອກໝວດທັມ</option>\n          {\n            categories.map(category => (\n              <option key={category._id} value={category._id}>\n                {category.name}\n              </option>\n            ))\n          }\n        </select>\n      </div>\n    </form>\n  )\n}\n\nexport default CreateForm\n","import React, { useEffect, useRef, useCallback } from \"react\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\nimport { useDispatch } from \"react-redux\";\n\nimport { checkImage, imageUpload } from \"../../utils/ImageUpload\";\nimport { ALERT } from \"../../redux/types/alertType\";\n\ninterface IProps {\n  setBody: (value: string) => void;\n  body: string;\n}\n\nconst Quill: React.FC<IProps> = ({ setBody, body }) => {\n  const dispatch = useDispatch();\n  const quillRef = useRef<ReactQuill>(null);\n\n  const modules = { toolbar: { container } };\n\n  // Custom image\n  const handleChangeImage = useCallback(() => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.click();\n\n    input.onchange = async () => {\n      const files = input.files;\n      if (!files)\n        return dispatch({\n          type: ALERT,\n          payload: { errors: \"File does not exist.\" },\n        });\n\n      const file = files[0];\n      const check = checkImage(file);\n      if (check) return dispatch({ type: ALERT, payload: { errors: check } });\n\n      dispatch({ type: ALERT, payload: { loading: true } });\n      const photo = await imageUpload(file);\n\n      const quill = quillRef.current;\n      const range = quill?.getEditor().getSelection()?.index;\n      if (range !== undefined) {\n        quill?.getEditor().insertEmbed(range, \"image\", `${photo.url}`);\n      }\n\n      dispatch({ type: ALERT, payload: { loading: false } });\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    const quill = quillRef.current;\n    if (!quill) return;\n\n    let toolbar = quill.getEditor().getModule(\"toolbar\");\n    toolbar.addHandler(\"image\", handleChangeImage);\n  }, [handleChangeImage]);\n\n  return (\n    <div>\n      <ReactQuill\n        theme=\"snow\"\n        modules={modules}\n        placeholder=\"Write somethings...\"\n        onChange={(e) => setBody(e)}\n        value={body}\n        ref={quillRef}\n      />\n    </div>\n  );\n};\n\nlet container = [\n  [{ font: [] }],\n  [{ size: [\"small\", false, \"large\", \"huge\"] }], // custom dropdown\n  // [{ size: [\"medium\", \"large\", \"huge\"] }],\n  [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n  [\"bold\", \"italic\", \"underline\", \"strike\"], // toggled buttons\n  [\"blockquote\", \"code-block\"],\n  [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n  [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\n  [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\n  [{ direction: \"rtl\" }], // text direction\n  [{ align: [] }],\n\n  [\"clean\", \"link\", \"image\", \"video\"],\n];\n\nexport default Quill;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { RootStore, IBlog, IUser } from \"../utils/TypeScript\";\nimport { validCreateBlog, shallowEqual } from \"../utils/Valid\";\nimport { getAPI } from \"../utils/FetchData\";\n\nimport NotFound from \"../components/global/NotFound\";\nimport CreateForm from \"../components/cards/CreateForm\";\nimport CardHoriz from \"../components/cards/CardHoriz\";\n\nimport ReactQuill from \"../components/editor/ReactQuill\";\n\nimport { ALERT } from \"../redux/types/alertType\";\n\nimport { createBlog, updateBlog } from \"../redux/actions/blogAction\";\n\ninterface IProps {\n  id?: string;\n}\nconst CreateBlog: React.FC<IProps> = ({ id }) => {\n  const initState = {\n    user: \"\",\n    title: \"\",\n    content: \"\",\n    description: \"\",\n    thumbnail: \"\",\n    category: \"\",\n    createdAt: new Date().toISOString(),\n  };\n\n  const [blog, setBlog] = useState<IBlog>(initState);\n  const [body, setBody] = useState(\"\");\n\n  const divRef = useRef<HTMLDivElement>(null);\n  const [text, setText] = useState(\"\");\n\n  const { auth } = useSelector((state: RootStore) => state);\n  const dispatch = useDispatch();\n\n  const [oldData, setOldData] = useState<IBlog>(initState);\n\n  useEffect(() => {\n    if (!id) return;\n\n    getAPI(`blog/${id}`)\n      .then((res) => {\n        setBlog(res.data);\n        setBody(res.data.content);\n        setOldData(res.data);\n      })\n      .catch((err) => console.log(err));\n\n    const initData = {\n      user: \"\",\n      title: \"\",\n      content: \"\",\n      description: \"\",\n      thumbnail: \"\",\n      category: \"\",\n      createdAt: new Date().toISOString(),\n    };\n\n    return () => {\n      setBlog(initData);\n      setBody(\"\");\n      setOldData(initData);\n    };\n  }, [id]);\n\n  useEffect(() => {\n    const div = divRef.current;\n    if (!div) return;\n\n    const text = div?.innerText as string;\n    setText(text);\n  }, [body]);\n\n  const handleSubmit = async () => {\n    if (!auth.access_token) return;\n\n    // const check = validCreateBlog({ ...blog, content: text });\n    // if (check.errLength !== 0) {\n    //   return dispatch({ type: ALERT, payload: { errors: check.errMsg } });\n    // }\n\n    let newData = { ...blog, content: body };\n\n    if (id) {\n      if ((blog.user as IUser)._id !== auth.user?._id)\n        return dispatch({\n          type: ALERT,\n          payload: { errors: \"Invalid Authentication.\" },\n        });\n\n      const result = shallowEqual(oldData, newData);\n      if (result)\n        return dispatch({\n          type: ALERT,\n          payload: { errors: \"The data does not change.\" },\n        });\n\n      dispatch(updateBlog(newData, auth.access_token));\n    } else {\n      dispatch(createBlog(newData, auth.access_token));\n    }\n  };\n\n  if (!auth.access_token) return <NotFound />;\n  return (\n    <div className=\"my-4 create_blog\" style={{ backgroundColor: \"#FEF7EC\" }}>\n      <div className=\"row mt-4\">\n        <div className=\"col-md-6\">\n          <h5>ຊື່ພຣະສູດ</h5>\n          <CreateForm blog={blog} setBlog={setBlog} />\n        </div>\n\n        <div className=\"col-md-6\">\n          <h5>Preview</h5>\n          <CardHoriz blog={blog} />\n        </div>\n      </div>\n\n      <ReactQuill setBody={setBody} body={body} />\n\n      <div\n        ref={divRef}\n        dangerouslySetInnerHTML={{\n          __html: body,\n        }}\n        style={{\n          // display: \"none\",\n          objectFit: \"cover\",\n          fontSize: \"40px\",\n        }}\n      />\n\n      <small>{text.length}</small>\n\n      <button\n        className=\"btn btn-warning mt-3 d-block mx-auto text-white\"\n        onClick={handleSubmit}\n        style={{ backgroundColor: \"#A0522D\" }}\n      >\n        {id ? \"ເເກ້ໄຂພຣະສູດ\" : \"ເພີ້ມພຣະສູດ\"}\n      </button>\n    </div>\n  );\n};\n\nexport default CreateBlog;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { IBlog } from \"../../utils/TypeScript\";\nimport \"./CardVert.css\";\n\ninterface IProps {\n  blog: IBlog;\n}\n\nconst CardVert: React.FC<IProps> = ({ blog }) => {\n  return (\n    <>\n      <div\n        className=\"card-main mb-1\"\n        style={{ backgroundColor: \"#FEF7EC\", borderRadius: \"12px\" }}\n      >\n        {typeof blog.thumbnail === \"string\" && (\n          <Link\n            to={`/blog/${blog._id}`}\n            style={{\n              textDecoration: \"none\",\n              textTransform: \"capitalize\",\n            }}\n          >\n            <div className=\"flex-shrink-0\">\n              <img\n                src={blog.thumbnail}\n                className=\"left card-img-top w-24 h-24 rounded-full shadow-lg\"\n                alt=\"...\"\n                style={{\n                  maxHeight: \"110px\",\n                  maxWidth: \"100%\",\n                  objectFit: \"cover\",\n                  borderRadius: \"12px\",\n                }}\n              />\n            </div>\n          </Link>\n        )}\n\n        <div className=\"card-body\">\n          <h5\n            className=\"card-title\"\n            style={{\n              fontSize: \"20px\",\n              color: \"#442B03\",\n              fontWeight: \"bold\",\n              fontFamily: \"Poppins\",\n            }}\n          >\n            <Link\n              to={`/blog/${blog._id}`}\n              style={{\n                textDecoration: \"none\",\n                textTransform: \"capitalize\",\n                color: \"#A66908\",\n                fontWeight: \"bold\",\n              }}\n            >\n              <div className=\"card__title\">\n                {blog.title.slice(0, 50) + \"...\"}\n              </div>\n            </Link>\n          </h5>\n          {/* <p className=\"card-text\">{blog.description.slice(0, 100) + \"...\"}</p> */}\n\n          <p className=\"card-text d-flex justify-content-between\">\n            <small className=\"text-muted text-capitalize\">\n              {typeof blog.user !== \"string\" && (\n                <Link\n                  to={`/profile/${blog.user._id}`}\n                  style={{\n                    textDecoration: \"none\",\n                    textTransform: \"capitalize\",\n                    color: \"#A66908\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  ໂດຍ: {blog.user.name}\n                </Link>\n              )}\n            </small>\n\n            <small className=\" font-normal text-gray-700 dark:text-gray-400\">\n              {new Date(blog.createdAt).toLocaleString()}\n            </small>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CardVert;\n","import { IUser } from '../../utils/TypeScript'\n\nexport const GET_OTHER_INFO = \"GET_OTHER_INFO\"\n\n\nexport interface IGetOtherInfoType {\n  type: typeof GET_OTHER_INFO,\n  payload: IUser\n}","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { RootStore } from \"../utils/TypeScript\";\n\nimport CardVert from \"../components/cards/CardVert\";\nimport Loading from \"../components/global/Loading\";\n\nconst Home = () => {\n  const { homeBlogs } = useSelector((state: RootStore) => state);\n\n  if (homeBlogs.length === 0) return <Loading />;\n  return (\n    <div className=\"home_page\">\n      {homeBlogs.map((homeBlog) => (\n        <div key={homeBlog._id}>\n          {homeBlog.count > 0 && (\n            <>\n              <h3>\n                <Link to={`/blogs/${homeBlog.name.toLowerCase()}`}>\n                  {homeBlog.name} <small>({homeBlog.count})</small>\n                </Link>\n              </h3>\n              <hr className=\"mt-1\" />\n\n              <div className=\"home_blogs\">\n                {homeBlog.blogs.map((blog) => (\n                  <CardVert key={blog._id} blog={blog} />\n                ))}\n              </div>\n            </>\n          )}\n\n          {homeBlog.count > 4 && (\n            <Link\n              className=\"text-end d-block mt-2 mb-3 \n              text-decoration-none\"\n              to={`/blogs/${homeBlog.name}`}\n              style={{\n                textDecoration: \"none\",\n                textTransform: \"capitalize\",\n                color: \"#A66908\",\n                fontWeight: \"bold\",\n              }}\n            >\n              ອ່ານເພີ້ມຕືມ &gt;&gt;\n            </Link>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\nimport { postAPI } from '../../utils/FetchData'\nimport { showErrMsg, showSuccessMsg } from '../../components/alert/Alert'\n\nconst Active = () => {\n  const { slug }: IParams = useParams()\n  const [err, setErr] = useState('')\n  const [success, setSuccess] = useState('')\n\n  useEffect(() => {\n    if(slug){\n      postAPI('active', { active_token: slug })\n      .then(res => setSuccess(res.data.msg))\n      .catch(err => setErr(err.response.data.msg))\n    }\n  },[slug])\n\n  return (\n    <div>\n      { err && showErrMsg(err) }\n      { success && showSuccessMsg(success) }\n    </div>\n  )\n}\n\nexport default Active\n","// Deploy server\n\nimport axios from \"axios\";\nimport { API_URL } from \"./config\";\naxios.defaults.withCredentials = true;\n\nexport const postAPI = async (url: string, post: object, token?: string) => {\n  const res = await axios.post(`${API_URL}/api/${url}`, post, {\n    headers: { Authorization: token },\n  });\n\n  return res;\n};\n\nexport const getAPI = async (url: string, token?: string) => {\n  const res = await axios.get(`${API_URL}/api/${url}`, {\n    headers: { Authorization: token },\n  });\n\n  return res;\n};\n\nexport const patchAPI = async (url: string, post: object, token?: string) => {\n  const res = await axios.patch(`${API_URL}/api/${url}`, post, {\n    headers: { Authorization: token },\n  });\n\n  return res;\n};\n\nexport const putAPI = async (url: string, post: object, token?: string) => {\n  const res = await axios.put(`${API_URL}/api/${url}`, post, {\n    headers: { Authorization: token },\n  });\n\n  return res;\n};\n\nexport const deleteAPI = async (url: string, token?: string) => {\n  const res = await axios.delete(`${API_URL}/api/${url}`, {\n    headers: { Authorization: token },\n  });\n\n  return res;\n};\n\n//Local Test\n\n// import axios from 'axios'\n\n// export const postAPI = async (url: string, post: object, token?:string) => {\n//   const res = await axios.post(`/api/${url}`, post, {\n//     headers: { Authorization: token }\n//   })\n\n//   return res;\n// }\n\n// export const getAPI = async (url: string, token?:string) => {\n//   const res = await axios.get(`/api/${url}`, {\n//     headers: { Authorization: token }\n//   })\n\n//   return res;\n// }\n\n// export const patchAPI = async (url: string, post: object, token?:string) => {\n//   const res = await axios.patch(`/api/${url}`, post, {\n//     headers: { Authorization: token }\n//   })\n\n//   return res;\n// }\n\n// export const putAPI = async (url: string, post: object, token?:string) => {\n//   const res = await axios.put(`/api/${url}`, post, {\n//     headers: { Authorization: token }\n//   })\n\n//   return res;\n// }\n\n// export const deleteAPI = async (url: string, token?:string) => {\n//   const res = await axios.delete(`/api/${url}`, {\n//     headers: { Authorization: token }\n//   })\n\n//   return res;\n// }\n"],"sourceRoot":""}